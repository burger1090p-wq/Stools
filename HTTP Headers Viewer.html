<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP Headers Viewer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            color: white;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .viewer-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .url-input-area {
            margin-bottom: 30px;
        }
        
        .url-input-area h3 {
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
        }
        
        .url-input-area h3 i {
            margin-right: 10px;
            color: #667eea;
        }
        
        .url-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .method-select {
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            background: white;
            font-weight: 600;
            color: #667eea;
            min-width: 120px;
        }
        
        .url-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .url-input:focus {
            border-color: #667eea;
            outline: none;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-block;
        }
        
        .btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #764ba2;
        }
        
        .btn-secondary:hover {
            background: #6a4190;
            box-shadow: 0 5px 15px rgba(118, 75, 162, 0.4);
        }
        
        .btn-outline {
            background: transparent;
            border: 2px solid #667eea;
            color: #667eea;
        }
        
        .btn-outline:hover {
            background: #667eea;
            color: white;
        }
        
        .btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .headers-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .headers-section {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            overflow: hidden;
        }
        
        .headers-title {
            background: #f8fafc;
            padding: 15px 20px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .headers-title h3 {
            display: flex;
            align-items: center;
            color: #333;
        }
        
        .headers-title i {
            margin-right: 10px;
            color: #667eea;
        }
        
        .headers-count {
            background: #667eea;
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .headers-list {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .header-item {
            display: flex;
            padding: 12px 20px;
            border-bottom: 1px solid #f0f0f0;
            transition: background 0.2s;
        }
        
        .header-item:hover {
            background: #f8fafc;
        }
        
        .header-item:last-child {
            border-bottom: none;
        }
        
        .header-name {
            font-weight: 600;
            color: #333;
            min-width: 200px;
            padding-right: 15px;
        }
        
        .header-value {
            color: #555;
            flex: 1;
            word-break: break-word;
        }
        
        .response-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .info-card {
            background: #f8fafc;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        
        .info-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 5px;
        }
        
        .info-label {
            color: #666;
            font-size: 0.9rem;
        }
        
        .security-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .badge {
            background: #f1f5f9;
            color: #475569;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .badge.secure {
            background: #d1fae5;
            color: #065f46;
        }
        
        .badge.warning {
            background: #fef3c7;
            color: #92400e;
        }
        
        .badge.error {
            background: #fee2e2;
            color: #991b1b;
        }
        
        .history-section {
            margin-top: 30px;
        }
        
        .history-section h3 {
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
        }
        
        .history-section h3 i {
            margin-right: 10px;
            color: #667eea;
        }
        
        .history-list {
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            padding: 10px;
        }
        
        .history-item {
            padding: 10px 15px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .history-item:hover {
            background: #f8fafc;
        }
        
        .history-item:last-child {
            border-bottom: none;
        }
        
        .history-url {
            font-weight: 600;
            margin-bottom: 5px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .history-details {
            font-size: 0.8rem;
            color: #666;
            display: flex;
            justify-content: space-between;
        }
        
        .features {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 40px;
        }
        
        .feature-card {
            flex: 1;
            min-width: 250px;
            background: white;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .feature-icon {
            font-size: 40px;
            color: #667eea;
            margin-bottom: 15px;
        }
        
        footer {
            text-align: center;
            color: white;
            padding: 30px 0;
            margin-top: 40px;
            opacity: 0.8;
        }
        
        .hidden {
            display: none;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .headers-display {
                grid-template-columns: 1fr;
            }
            
            .url-container {
                flex-direction: column;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>HTTP Headers Viewer</h1>
            <p class="subtitle">Analyze HTTP request and response headers for any URL</p>
        </header>
        
        <div class="viewer-card">
            <div class="url-input-area">
                <h3><i class="fas fa-globe"></i> Enter URL to Analyze</h3>
                <div class="url-container">
                    <select class="method-select" id="methodSelect">
                        <option value="GET">GET</option>
                        <option value="POST">POST</option>
                        <option value="PUT">PUT</option>
                        <option value="DELETE">DELETE</option>
                        <option value="HEAD">HEAD</option>
                    </select>
                    <input type="url" class="url-input" id="urlInput" placeholder="https://example.com" value="https://httpbin.org/json">
                </div>
                
                <div class="action-buttons">
                    <button class="btn" id="fetchBtn">
                        <i class="fas fa-cloud-download-alt"></i> Fetch Headers
                    </button>
                    <button class="btn btn-secondary" id="myHeadersBtn">
                        <i class="fas fa-desktop"></i> View My Browser Headers
                    </button>
                    <button class="btn btn-outline" id="clearBtn">
                        <i class="fas fa-broom"></i> Clear
                    </button>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-outline" data-url="https://httpbin.org/json">
                        <i class="fas fa-code"></i> JSON Example
                    </button>
                    <button class="btn btn-outline" data-url="https://httpbin.org/html">
                        <i class="fas fa-file-code"></i> HTML Example
                    </button>
                    <button class="btn btn-outline" data-url="https://httpbin.org/xml">
                        <i class="fas fa-file-code"></i> XML Example
                    </button>
                </div>
            </div>
            
            <div id="resultsArea" class="hidden">
                <div class="response-info">
                    <div class="info-card">
                        <div class="info-value" id="statusCode">200</div>
                        <div class="info-label">Status Code</div>
                    </div>
                    <div class="info-card">
                        <div class="info-value" id="responseTime">0ms</div>
                        <div class="info-label">Response Time</div>
                    </div>
                    <div class="info-card">
                        <div class="info-value" id="contentType">application/json</div>
                        <div class="info-label">Content Type</div>
                    </div>
                    <div class="info-card">
                        <div class="info-value" id="contentLength">429B</div>
                        <div class="info-label">Content Length</div>
                    </div>
                </div>
                
                <div class="security-badges" id="securityBadges">
                    <div class="badge secure">
                        <i class="fas fa-lock"></i> HTTPS
                    </div>
                    <div class="badge">
                        <i class="fas fa-server"></i> CORS Enabled
                    </div>
                </div>
                
                <div class="headers-display">
                    <div class="headers-section">
                        <div class="headers-title">
                            <h3><i class="fas fa-paper-plane"></i> Request Headers</h3>
                            <span class="headers-count" id="requestCount">0</span>
                        </div>
                        <div class="headers-list" id="requestHeaders">
                            <!-- Request headers will be added here -->
                        </div>
                    </div>
                    
                    <div class="headers-section">
                        <div class="headers-title">
                            <h3><i class="fas fa-download"></i> Response Headers</h3>
                            <span class="headers-count" id="responseCount">0</span>
                        </div>
                        <div class="headers-list" id="responseHeaders">
                            <!-- Response headers will be added here -->
                        </div>
                    </div>
                </div>
                
                <div class="history-section">
                    <h3><i class="fas fa-history"></i> Request History</h3>
                    <div class="history-list" id="historyList">
                        <!-- History items will be added here -->
                    </div>
                </div>
            </div>
        </div>
        
        <div class="features">
            <div class="feature-card">
                <i class="fas fa-tachometer-alt feature-icon"></i>
                <h3>Real-time Analysis</h3>
                <p>Get instant insights into HTTP headers and their meanings</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-shield-alt feature-icon"></i>
                <h3>Security Insights</h3>
                <p>Identify security headers and potential vulnerabilities</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-code feature-icon"></i>
                <h3>Developer Friendly</h3>
                <p>Perfect for debugging API calls and web applications</p>
            </div>
        </div>
        
        <footer>
            <p>HTTP Headers Viewer &copy; 2023 | All rights reserved</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const methodSelect = document.getElementById('methodSelect');
            const urlInput = document.getElementById('urlInput');
            const fetchBtn = document.getElementById('fetchBtn');
            const myHeadersBtn = document.getElementById('myHeadersBtn');
            const clearBtn = document.getElementById('clearBtn');
            const resultsArea = document.getElementById('resultsArea');
            const historyList = document.getElementById('historyList');
            
            // Example buttons
            const exampleButtons = document.querySelectorAll('[data-url]');
            
            // Result elements
            const statusCode = document.getElementById('statusCode');
            const responseTime = document.getElementById('responseTime');
            const contentType = document.getElementById('contentType');
            const contentLength = document.getElementById('contentLength');
            const securityBadges = document.getElementById('securityBadges');
            const requestCount = document.getElementById('requestCount');
            const responseCount = document.getElementById('responseCount');
            const requestHeaders = document.getElementById('requestHeaders');
            const responseHeaders = document.getElementById('responseHeaders');
            
            // Request history
            let requestHistory = [];
            
            // Event Listeners
            fetchBtn.addEventListener('click', function() {
                const url = urlInput.value.trim();
                const method = methodSelect.value;
                
                if (url) {
                    fetchHeaders(url, method);
                } else {
                    alert('Please enter a URL to analyze');
                }
            });
            
            myHeadersBtn.addEventListener('click', function() {
                displayBrowserHeaders();
            });
            
            clearBtn.addEventListener('click', function() {
                urlInput.value = '';
                resultsArea.classList.add('hidden');
            });
            
            // Example buttons
            exampleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const url = this.getAttribute('data-url');
                    urlInput.value = url;
                    fetchHeaders(url, 'GET');
                });
            });
            
            // Functions
            async function fetchHeaders(url, method) {
                // Show loading state
                const originalText = fetchBtn.innerHTML;
                fetchBtn.innerHTML = '<span class="loading"></span> Fetching...';
                fetchBtn.disabled = true;
                
                try {
                    const startTime = Date.now();
                    
                    // Make the request
                    const response = await fetch(url, {
                        method: method,
                        headers: {
                            'Accept': 'application/json, text/html, application/xml, */*',
                            'User-Agent': 'HTTP-Headers-Viewer/1.0'
                        }
                    });
                    
                    const endTime = Date.now();
                    const responseTimeMs = endTime - startTime;
                    
                    // Process the response
                    await processResponse(response, url, method, responseTimeMs);
                    
                } catch (error) {
                    console.error('Error fetching headers:', error);
                    alert('Error fetching headers: ' + error.message);
                } finally {
                    // Restore button state
                    fetchBtn.innerHTML = originalText;
                    fetchBtn.disabled = false;
                }
            }
            
            async function processResponse(response, url, method, responseTimeMs) {
                // Extract headers
                const responseHeadersData = {};
                response.headers.forEach((value, key) => {
                    responseHeadersData[key] = value;
                });
                
                // Get request headers (simulated for demo)
                const requestHeadersData = generateRequestHeaders(url, method);
                
                // Update UI with header data
                updateHeadersDisplay(requestHeadersData, responseHeadersData);
                
                // Update response info
                statusCode.textContent = response.status;
                statusCode.style.color = response.status === 200 ? '#10b981' : 
                                        response.status >= 400 ? '#ef4444' : '#f59e0b';
                
                responseTime.textContent = `${responseTimeMs}ms`;
                contentType.textContent = responseHeadersData['content-type'] || 'Unknown';
                
                // Calculate content length
                const contentLengthValue = responseHeadersData['content-length'];
                contentLength.textContent = contentLengthValue ? 
                    formatBytes(parseInt(contentLengthValue)) : 'Unknown';
                
                // Update security badges
                updateSecurityBadges(responseHeadersData, url);
                
                // Add to history
                addToHistory({
                    url: url,
                    method: method,
                    status: response.status,
                    time: responseTimeMs,
                    timestamp: new Date().toLocaleTimeString()
                });
                
                // Show results
                resultsArea.classList.remove('hidden');
            }
            
            function generateRequestHeaders(url, method) {
                // In a real application, we would capture actual request headers
                // For this demo, we'll generate simulated request headers
                return {
                    'Accept': 'application/json, text/html, application/xml, */*',
                    'Accept-Encoding': 'gzip, deflate, br',
                    'Accept-Language': navigator.language || 'en-US,en;q=0.9',
                    'Cache-Control': 'no-cache',
                    'Connection': 'keep-alive',
                    'Host': new URL(url).host,
                    'User-Agent': navigator.userAgent,
                    'Sec-Fetch-Dest': 'document',
                    'Sec-Fetch-Mode': 'cors',
                    'Sec-Fetch-Site': 'cross-site'
                };
            }
            
            function updateHeadersDisplay(requestHeadersData, responseHeadersData) {
                // Clear existing headers
                requestHeaders.innerHTML = '';
                responseHeaders.innerHTML = '';
                
                // Update request headers
                let requestHeaderCount = 0;
                for (const [key, value] of Object.entries(requestHeadersData)) {
                    const headerItem = createHeaderItem(key, value);
                    requestHeaders.appendChild(headerItem);
                    requestHeaderCount++;
                }
                requestCount.textContent = requestHeaderCount;
                
                // Update response headers
                let responseHeaderCount = 0;
                for (const [key, value] of Object.entries(responseHeadersData)) {
                    const headerItem = createHeaderItem(key, value);
                    responseHeaders.appendChild(headerItem);
                    responseHeaderCount++;
                }
                responseCount.textContent = responseHeaderCount;
            }
            
            function createHeaderItem(key, value) {
                const headerItem = document.createElement('div');
                headerItem.className = 'header-item';
                
                const headerName = document.createElement('div');
                headerName.className = 'header-name';
                headerName.textContent = key;
                
                const headerValue = document.createElement('div');
                headerValue.className = 'header-value';
                headerValue.textContent = value;
                
                headerItem.appendChild(headerName);
                headerItem.appendChild(headerValue);
                
                return headerItem;
            }
            
            function updateSecurityBadges(headers, url) {
                securityBadges.innerHTML = '';
                
                // HTTPS check
                if (url.startsWith('https://')) {
                    securityBadges.appendChild(createBadge('secure', '<i class="fas fa-lock"></i> HTTPS'));
                } else {
                    securityBadges.appendChild(createBadge('error', '<i class="fas fa-unlock"></i> HTTP (Not Secure)'));
                }
                
                // CORS check
                if (headers['access-control-allow-origin']) {
                    securityBadges.appendChild(createBadge('secure', '<i class="fas fa-server"></i> CORS Enabled'));
                }
                
                // Security headers check
                if (headers['strict-transport-security']) {
                    securityBadges.appendChild(createBadge('secure', '<i class="fas fa-shield-alt"></i> HSTS'));
                }
                
                if (headers['content-security-policy']) {
                    securityBadges.appendChild(createBadge('secure', '<i class="fas fa-shield-alt"></i> CSP'));
                }
                
                if (headers['x-frame-options']) {
                    securityBadges.appendChild(createBadge('secure', '<i class="fas fa-window-restore"></i> Frame Options'));
                }
                
                if (headers['x-content-type-options'] === 'nosniff') {
                    securityBadges.appendChild(createBadge('secure', '<i class="fas fa-file-code"></i> No Sniff'));
                }
            }
            
            function createBadge(type, html) {
                const badge = document.createElement('div');
                badge.className = `badge ${type}`;
                badge.innerHTML = html;
                return badge;
            }
            
            function displayBrowserHeaders() {
                // Display the current browser's request headers
                const browserHeaders = {
                    'User-Agent': navigator.userAgent,
                    'Accept': navigator.language ? `text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8` : 'Unknown',
                    'Accept-Language': navigator.language || 'Unknown',
                    'Accept-Encoding': 'gzip, deflate, br',
                    'Connection': 'keep-alive',
                    'Upgrade-Insecure-Requests': '1',
                    'Cache-Control': 'max-age=0'
                };
                
                // For demo purposes, we'll create a mock response
                const mockResponseHeaders = {
                    'content-type': 'text/html; charset=utf-8',
                    'date': new Date().toUTCString(),
                    'server': 'Browser-Simulation/1.0',
                    'x-powered-by': 'HTTP Headers Viewer'
                };
                
                updateHeadersDisplay(browserHeaders, mockResponseHeaders);
                
                // Update response info
                statusCode.textContent = '200';
                statusCode.style.color = '#10b981';
                responseTime.textContent = '0ms';
                contentType.textContent = 'text/html; charset=utf-8';
                contentLength.textContent = 'Unknown';
                
                // Update security badges for local context
                securityBadges.innerHTML = '';
                securityBadges.appendChild(createBadge('', '<i class="fas fa-desktop"></i> Local Browser'));
                
                // Add to history
                addToHistory({
                    url: 'Browser Headers',
                    method: 'GET',
                    status: 200,
                    time: 0,
                    timestamp: new Date().toLocaleTimeString()
                });
                
                // Show results
                resultsArea.classList.remove('hidden');
            }
            
            function addToHistory(request) {
                // Add to history array (limit to 10 items)
                requestHistory.unshift(request);
                
                if (requestHistory.length > 10) {
                    requestHistory.pop();
                }
                
                updateHistoryUI();
            }
            
            function updateHistoryUI() {
                historyList.innerHTML = '';
                
                if (requestHistory.length === 0) {
                    historyList.innerHTML = '<div class="history-item">No history yet</div>';
                    return;
                }
                
                requestHistory.forEach(item => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    
                    historyItem.innerHTML = `
                        <div class="history-url">${item.method} ${item.url}</div>
                        <div class="history-details">
                            <span>Status: ${item.status}</span>
                            <span>${item.time}ms</span>
                            <span>${item.timestamp}</span>
                        </div>
                    `;
                    
                    historyItem.addEventListener('click', function() {
                        if (item.url !== 'Browser Headers') {
                            urlInput.value = item.url;
                            fetchHeaders(item.url, item.method);
                        } else {
                            displayBrowserHeaders();
                        }
                    });
                    
                    historyList.appendChild(historyItem);
                });
            }
            
            function formatBytes(bytes) {
                if (bytes === 0) return '0 Bytes';
                
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            // Initialize with a demo request
            setTimeout(() => {
                fetchHeaders('https://httpbin.org/json', 'GET');
            }, 500);
        });
    </script>
</body>
</html>
